{"ast":null,"code":"import axios from 'axios';\nimport './ClientsPage.css';\nexport default {\n  name: 'ClientsPage',\n  data() {\n    return {\n      users: [],\n      searchQuery: \"\",\n      // Добавленное свойство для хранения запроса поиска\n      currentPage: 1,\n      // Текущая страница\n      usersPerPage: 10 // Пользователей на странице\n    };\n  },\n  computed: {\n    filteredUsers() {\n      // Приводим поисковой запрос к нижнему регистру для нечувствительного к регистру сравнения\n      const query = this.searchQuery.toLowerCase();\n      // Фильтруем пользователей по имени, если оно содержит поисковой запрос\n      return this.users.filter(user => user.name.toLowerCase().includes(query));\n    },\n    // Вычисляемое свойство, чтобы вычислить индекс первого пользователя на текущей странице\n    startIndex() {\n      return (this.currentPage - 1) * this.usersPerPage;\n    },\n    // Вычисляемое свойство, чтобы получить пользователей для текущей страницы\n    paginatedUsers() {\n      return this.filteredUsers.slice(this.startIndex, this.startIndex + this.usersPerPage);\n    },\n    // Вычисляемое свойство, чтобы определить общее количество страниц\n    totalPages() {\n      return Math.ceil(this.filteredUsers.length / this.usersPerPage);\n    }\n  },\n  mounted() {\n    this.fetchUsers();\n  },\n  methods: {\n    async fetchUsers() {\n      try {\n        const response = await axios.get('https://jsonplaceholder.typicode.com/users');\n        this.users = response.data;\n      } catch (error) {\n        console.error('Ошибка при получении данных пользователей:', error);\n      }\n    },\n    getLastTripStartTime(user) {\n      if (user.trips && user.trips.length > 0) {\n        return user.trips[user.trips.length - 1].startTime;\n      }\n      return 'Нет информации';\n    },\n    getLastTripEndTime(user) {\n      if (user.trips && user.trips.length > 0) {\n        return user.trips[user.trips.length - 1].endTime;\n      }\n      return 'Нет информации';\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","users","searchQuery","currentPage","usersPerPage","computed","filteredUsers","query","toLowerCase","filter","user","includes","startIndex","paginatedUsers","slice","totalPages","Math","ceil","length","mounted","fetchUsers","methods","response","get","error","console","getLastTripStartTime","trips","startTime","getLastTripEndTime","endTime"],"sources":["/Users/neferuz/Desktop/ImellsAdmin/src/components/Clients/ClientsPage.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"container\">\r\n      <div class=\"user-content\">\r\n        <div class=\"analizing\">\r\n          <h1>Все поездки</h1>\r\n          <div class=\"poisk-con\">\r\n            <input v-model=\"searchQuery\" placeholder=\"Поиск\" type=\"text\">\r\n            <img src=\"@/assets/notifications_none.svg\" alt=\"\">\r\n            <img src=\"@/assets/moon-solid 1.svg\" alt=\"\">\r\n            <img src=\"@/assets/info_outline.svg\" alt=\"\">\r\n            <img class=\"admin-logo\" src=\"https://splendorous-granita-f826c7.netlify.app/fozil.svg\" alt=\"\">\r\n          </div>\r\n        </div>\r\n        <table class=\"user-table\" v-if=\"paginatedUsers.length\">\r\n          <thead>\r\n            <tr>\r\n              <th>Имя</th>\r\n              <th>Все поездки</th>\r\n              <th>Последняя поездка начало</th>\r\n              <th>Последняя поездка конец</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"user in paginatedUsers\" :key=\"user.id\">\r\n              <td>{{ user.name }}</td>\r\n              <td>\r\n                <ul>\r\n                  <li v-for=\"trip in user.trips\" :key=\"trip.id\">\r\n                    {{ trip.startLocation }} ({{ trip.startTime }}) - {{ trip.endLocation }} ({{ trip.endTime }})\r\n                  </li>\r\n                </ul>\r\n              </td>\r\n              <td>{{ getLastTripStartTime(user) }}</td>\r\n              <td>{{ getLastTripEndTime(user) }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <p v-else>Загрузка данных...</p>\r\n      </div>\r\n      <div class=\"pagination\">\r\n        <button @click=\"currentPage--\" :disabled=\"currentPage === 1\">&lt;</button>\r\n        <button v-for=\"page in totalPages\" :key=\"page\" :class=\"{ active: currentPage === page }\" @click=\"currentPage = page\">\r\n          {{ page }}\r\n        </button>\r\n        <button @click=\"currentPage++\" :disabled=\"currentPage === totalPages\">&gt;</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport './ClientsPage.css';\r\n\r\nexport default {\r\n  name: 'ClientsPage',\r\n  data() {\r\n    return {\r\n      users: [],\r\n      searchQuery: \"\", // Добавленное свойство для хранения запроса поиска\r\n      currentPage: 1, // Текущая страница\r\n      usersPerPage: 10 // Пользователей на странице\r\n    };\r\n  },\r\n  computed: {\r\n    filteredUsers() {\r\n      // Приводим поисковой запрос к нижнему регистру для нечувствительного к регистру сравнения\r\n      const query = this.searchQuery.toLowerCase();\r\n      // Фильтруем пользователей по имени, если оно содержит поисковой запрос\r\n      return this.users.filter(user => user.name.toLowerCase().includes(query));\r\n    },\r\n    // Вычисляемое свойство, чтобы вычислить индекс первого пользователя на текущей странице\r\n    startIndex() {\r\n      return (this.currentPage - 1) * this.usersPerPage;\r\n    },\r\n    // Вычисляемое свойство, чтобы получить пользователей для текущей страницы\r\n    paginatedUsers() {\r\n      return this.filteredUsers.slice(this.startIndex, this.startIndex + this.usersPerPage);\r\n    },\r\n    // Вычисляемое свойство, чтобы определить общее количество страниц\r\n    totalPages() {\r\n      return Math.ceil(this.filteredUsers.length / this.usersPerPage);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchUsers();\r\n  },\r\n  methods: {\r\n    async fetchUsers() {\r\n      try {\r\n        const response = await axios.get('https://jsonplaceholder.typicode.com/users');\r\n        this.users = response.data;\r\n      } catch (error) {\r\n        console.error('Ошибка при получении данных пользователей:', error);\r\n      }\r\n    },\r\n    getLastTripStartTime(user) {\r\n      if (user.trips && user.trips.length > 0) {\r\n        return user.trips[user.trips.length - 1].startTime;\r\n      }\r\n      return 'Нет информации';\r\n    },\r\n    getLastTripEndTime(user) {\r\n      if (user.trips && user.trips.length > 0) {\r\n        return user.trips[user.trips.length - 1].endTime;\r\n      }\r\n      return 'Нет информации';\r\n    }\r\n  },\r\n};\r\n</script>"],"mappings":"AAoDA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAO,mBAAmB;AAE1B,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MAAE;MACjBC,WAAW,EAAE,CAAC;MAAE;MAChBC,YAAY,EAAE,EAAC,CAAE;IACnB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,aAAaA,CAAA,EAAG;MACd;MACA,MAAMC,KAAI,GAAI,IAAI,CAACL,WAAW,CAACM,WAAW,CAAC,CAAC;MAC5C;MACA,OAAO,IAAI,CAACP,KAAK,CAACQ,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACX,IAAI,CAACS,WAAW,CAAC,CAAC,CAACG,QAAQ,CAACJ,KAAK,CAAC,CAAC;IAC3E,CAAC;IACD;IACAK,UAAUA,CAAA,EAAG;MACX,OAAO,CAAC,IAAI,CAACT,WAAU,GAAI,CAAC,IAAI,IAAI,CAACC,YAAY;IACnD,CAAC;IACD;IACAS,cAAcA,CAAA,EAAG;MACf,OAAO,IAAI,CAACP,aAAa,CAACQ,KAAK,CAAC,IAAI,CAACF,UAAU,EAAE,IAAI,CAACA,UAAS,GAAI,IAAI,CAACR,YAAY,CAAC;IACvF,CAAC;IACD;IACAW,UAAUA,CAAA,EAAG;MACX,OAAOC,IAAI,CAACC,IAAI,CAAC,IAAI,CAACX,aAAa,CAACY,MAAK,GAAI,IAAI,CAACd,YAAY,CAAC;IACjE;EACF,CAAC;EACDe,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,UAAU,CAAC,CAAC;EACnB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMxB,KAAK,CAACyB,GAAG,CAAC,4CAA4C,CAAC;QAC9E,IAAI,CAACtB,KAAI,GAAIqB,QAAQ,CAACtB,IAAI;MAC5B,EAAE,OAAOwB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;MACpE;IACF,CAAC;IACDE,oBAAoBA,CAAChB,IAAI,EAAE;MACzB,IAAIA,IAAI,CAACiB,KAAI,IAAKjB,IAAI,CAACiB,KAAK,CAACT,MAAK,GAAI,CAAC,EAAE;QACvC,OAAOR,IAAI,CAACiB,KAAK,CAACjB,IAAI,CAACiB,KAAK,CAACT,MAAK,GAAI,CAAC,CAAC,CAACU,SAAS;MACpD;MACA,OAAO,gBAAgB;IACzB,CAAC;IACDC,kBAAkBA,CAACnB,IAAI,EAAE;MACvB,IAAIA,IAAI,CAACiB,KAAI,IAAKjB,IAAI,CAACiB,KAAK,CAACT,MAAK,GAAI,CAAC,EAAE;QACvC,OAAOR,IAAI,CAACiB,KAAK,CAACjB,IAAI,CAACiB,KAAK,CAACT,MAAK,GAAI,CAAC,CAAC,CAACY,OAAO;MAClD;MACA,OAAO,gBAAgB;IACzB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
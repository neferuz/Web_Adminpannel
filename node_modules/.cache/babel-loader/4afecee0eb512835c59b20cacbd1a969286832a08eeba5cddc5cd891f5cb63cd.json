{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport router from \"@/router\";\nimport \"./Driverspanel.css\";\nexport default {\n  data() {\n    return {\n      searchQuery: \"\",\n      selectedGender: [],\n      selectedTariff: [],\n      selectedStatus: [],\n      genderDropdownOpen: false,\n      tariffDropdownOpen: false,\n      statusDropdownOpen: false,\n      drivers: [],\n      // To store the fetched drivers\n      filteredDrivers: [],\n      isModalOpen: false,\n      // State for modal\n      currentFilter: \"\",\n      // To store the current filter type\n      currentPage: 1,\n      pageSize: 10 // Количество водителей на странице\n    };\n  },\n  methods: {\n    openDriverDetailsPage(driverId) {\n      // Redirect to a new page passing the driver ID as parameter\n      router.push({\n        name: \"driver-details\",\n        params: {\n          id: driverId\n        }\n      });\n    },\n    toggleDropdown(dropdown) {\n      if (dropdown === \"gender\") {\n        this.genderDropdownOpen = !this.genderDropdownOpen;\n        this.tariffDropdownOpen = false;\n        this.statusDropdownOpen = false;\n      } else if (dropdown === \"tariff\") {\n        this.tariffDropdownOpen = !this.tariffDropdownOpen;\n        this.genderDropdownOpen = false;\n        this.statusDropdownOpen = false;\n      } else if (dropdown === \"status\") {\n        this.statusDropdownOpen = !this.statusDropdownOpen;\n        this.genderDropdownOpen = false;\n        this.tariffDropdownOpen = false;\n      }\n    },\n    openModal(filterType) {\n      this.isModalOpen = true;\n      this.currentFilter = filterType;\n      this.closeAllDropdowns();\n      this[`${filterType}DropdownOpen`] = true;\n    },\n    closeModal() {\n      this.isModalOpen = false;\n      this.currentFilter = \"\";\n      this.closeAllDropdowns();\n    },\n    closeAllDropdowns() {\n      this.genderDropdownOpen = false;\n      this.tariffDropdownOpen = false;\n      this.statusDropdownOpen = false;\n    },\n    filterContent() {\n      this.updateFilteredContent();\n    },\n    updateFilteredContent() {\n      this.filteredDrivers = this.drivers.filter(driver => {\n        return driver.name.toLowerCase().includes(this.searchQuery.toLowerCase()) && (this.selectedGender.length === 0 || this.selectedGender.includes(driver.gender)) && (this.selectedTariff.length === 0 || this.selectedTariff.includes(driver.tariff)) && (this.selectedStatus.length === 0 || this.selectedStatus.includes(driver.status));\n      });\n    },\n    fetchDrivers() {\n      axios.get(\"https://jsonplaceholder.typicode.com/users\") // Replace with your API endpoint\n      .then(response => {\n        const data = response.data;\n        this.drivers = Object.keys(data).map(key => ({\n          id: key,\n          ...data[key]\n        }));\n        this.updateFilteredContent();\n      }).catch(error => {\n        console.error(\"Error fetching drivers:\", error);\n      });\n    },\n    previousPage() {\n      if (this.currentPage > 1) {\n        this.currentPage--;\n      }\n    },\n    nextPage() {\n      if (this.currentPage < this.totalPages) {\n        this.currentPage++;\n      }\n    },\n    changePage(pageNumber) {\n      this.currentPage = pageNumber;\n    }\n  },\n  watch: {\n    searchQuery: \"filterContent\",\n    selectedGender: \"filterContent\",\n    selectedTariff: \"filterContent\",\n    selectedStatus: \"filterContent\",\n    currentPage: \"updateFilteredContent\"\n  },\n  computed: {\n    totalPages() {\n      return Math.ceil(this.filteredDrivers.length / this.pageSize);\n    },\n    paginatedDrivers() {\n      const startIndex = (this.currentPage - 1) * this.pageSize;\n      const endIndex = startIndex + this.pageSize;\n      return this.filteredDrivers.slice(startIndex, endIndex);\n    }\n  },\n  mounted() {\n    this.fetchDrivers();\n  }\n};","map":{"version":3,"names":["axios","router","data","searchQuery","selectedGender","selectedTariff","selectedStatus","genderDropdownOpen","tariffDropdownOpen","statusDropdownOpen","drivers","filteredDrivers","isModalOpen","currentFilter","currentPage","pageSize","methods","openDriverDetailsPage","driverId","push","name","params","id","toggleDropdown","dropdown","openModal","filterType","closeAllDropdowns","closeModal","filterContent","updateFilteredContent","filter","driver","toLowerCase","includes","length","gender","tariff","status","fetchDrivers","get","then","response","Object","keys","map","key","catch","error","console","previousPage","nextPage","totalPages","changePage","pageNumber","watch","computed","Math","ceil","paginatedDrivers","startIndex","endIndex","slice","mounted"],"sources":["/Users/neferuz/Desktop/ImellsAdmin/src/components/drivers/DriversPanel.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"analizing\">\r\n      <h1>Водители</h1>\r\n      <div class=\"poisk-con\">\r\n        <input v-model=\"searchQuery\" placeholder=\"Поиск\" type=\"text\">\r\n        <img src=\"@/assets/notifications_none.svg\" alt=\"\">\r\n        <img src=\"@/assets/moon-solid 1.svg\" alt=\"\">\r\n        <img src=\"@/assets/info_outline.svg\" alt=\"\">\r\n        <img class=\"admin-logo\" src=\"https://splendorous-granita-f826c7.netlify.app/fozil.svg\" alt=\"\">\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"filter\">\r\n      <img src=\"./filter.svg\" alt=\"\" />\r\n      <h4>Фильтр</h4>\r\n      <div class=\"filter-item\">\r\n        <div class=\"dropdown\">\r\n          <button class=\"burger-icon\" @click=\"openModal('gender')\">Пол</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"filter-item\">\r\n        <div class=\"dropdown\">\r\n          <button class=\"burger-icon\" @click=\"openModal('tariff')\">Тариф</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"filter-item\">\r\n        <div class=\"dropdown\">\r\n          <button class=\"burger-icon\" @click=\"openModal('status')\">Статус</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Имя/Фамилия</th>\r\n          <th>Пол</th>\r\n          <th>Статус</th>\r\n          <th>Тариф</th>\r\n          <th>Возраст</th>\r\n          <th>Номер телефона</th>\r\n          <th>Номер машины</th>\r\n          <th>Марка машины</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"driver in paginatedDrivers\" :key=\"driver.id\" @click=\"openDriverDetailsPage(driver.id)\">\r\n          <td class=\"user-info\">\r\n            <img :src=\"driver.avatarUrl\" alt=\"\" class=\"avatar\" />\r\n            <div>\r\n              <div>{{ driver.name }}</div>\r\n            </div>\r\n          </td>\r\n          <td>{{ driver.gender }}</td>\r\n          <td>{{ driver.status }}</td>\r\n          <td>{{ driver.tariff }}</td>\r\n          <td>{{ driver.age }}</td>\r\n          <td>{{ driver.phoneNumber }}</td>\r\n          <td>{{ driver.carNumber }}</td>\r\n          <td class=\"income\">{{ driver.carModel }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div class=\"pagination\">\r\n      <button @click=\"previousPage\">&lt;</button>\r\n      <button v-for=\"pageNumber in totalPages\" :key=\"pageNumber\" :class=\"{ active: currentPage === pageNumber }\"\r\n        @click=\"changePage(pageNumber)\">\r\n        {{ pageNumber }}\r\n      </button>\r\n      <button @click=\"nextPage\">&gt;</button>\r\n    </div>\r\n\r\n    <!-- Модальное окно -->\r\n    <div v-if=\"isModalOpen\" class=\"modal-overlay\" @click=\"closeModal\">\r\n      <div class=\"modal-content\" @click.stop>\r\n        <h4>Выберите параметры фильтра</h4>\r\n        <div v-if=\"currentFilter === 'gender'\">\r\n          <label><input type=\"checkbox\" v-model=\"selectedGender\" value=\"женский\" />\r\n            Женский</label>\r\n          <label><input type=\"checkbox\" v-model=\"selectedGender\" value=\"мужской\" />\r\n            Мужской</label>\r\n        </div>\r\n        <div v-if=\"currentFilter === 'tariff'\">\r\n          <label><input type=\"checkbox\" v-model=\"selectedTariff\" value=\"комфорт\" />\r\n            Комфорт</label>\r\n          <label><input type=\"checkbox\" v-model=\"selectedTariff\" value=\"старт\" />\r\n            Старт</label>\r\n          <label><input type=\"checkbox\" v-model=\"selectedTariff\" value=\"бизнес\" />\r\n            Бизнес</label>\r\n        </div>\r\n        <div v-if=\"currentFilter === 'status'\">\r\n          <label><input type=\"checkbox\" v-model=\"selectedStatus\" value=\"активные\" />\r\n            Активные</label>\r\n          <label><input type=\"checkbox\" v-model=\"selectedStatus\" value=\"неактивные\" />\r\n            Неактивные</label>\r\n        </div>\r\n        <button class=\"closeModal\" @click=\"closeModal\">Закрыть</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport router from \"@/router\";\r\nimport \"./Driverspanel.css\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchQuery: \"\",\r\n      selectedGender: [],\r\n      selectedTariff: [],\r\n      selectedStatus: [],\r\n      genderDropdownOpen: false,\r\n      tariffDropdownOpen: false,\r\n      statusDropdownOpen: false,\r\n      drivers: [], // To store the fetched drivers\r\n      filteredDrivers: [],\r\n      isModalOpen: false, // State for modal\r\n      currentFilter: \"\", // To store the current filter type\r\n      currentPage: 1,\r\n      pageSize: 10 // Количество водителей на странице\r\n    };\r\n  },\r\n  methods: {\r\n    openDriverDetailsPage(driverId) {\r\n      // Redirect to a new page passing the driver ID as parameter\r\n      router.push({ name: \"driver-details\", params: { id: driverId } });\r\n    },\r\n    toggleDropdown(dropdown) {\r\n      if (dropdown === \"gender\") {\r\n        this.genderDropdownOpen = !this.genderDropdownOpen;\r\n        this.tariffDropdownOpen = false;\r\n        this.statusDropdownOpen = false;\r\n      } else if (dropdown === \"tariff\") {\r\n        this.tariffDropdownOpen = !this.tariffDropdownOpen;\r\n        this.genderDropdownOpen = false;\r\n        this.statusDropdownOpen = false;\r\n      } else if (dropdown === \"status\") {\r\n        this.statusDropdownOpen = !this.statusDropdownOpen;\r\n        this.genderDropdownOpen = false;\r\n        this.tariffDropdownOpen = false;\r\n      }\r\n    },\r\n    openModal(filterType) {\r\n      this.isModalOpen = true;\r\n      this.currentFilter = filterType;\r\n      this.closeAllDropdowns();\r\n      this[`${filterType}DropdownOpen`] = true;\r\n    },\r\n    closeModal() {\r\n      this.isModalOpen = false;\r\n      this.currentFilter = \"\";\r\n      this.closeAllDropdowns();\r\n    },\r\n    closeAllDropdowns() {\r\n      this.genderDropdownOpen = false;\r\n      this.tariffDropdownOpen = false;\r\n      this.statusDropdownOpen = false;\r\n    },\r\n    filterContent() {\r\n      this.updateFilteredContent();\r\n    },\r\n    updateFilteredContent() {\r\n      this.filteredDrivers = this.drivers.filter((driver) => {\r\n        return (\r\n          driver.name.toLowerCase().includes(this.searchQuery.toLowerCase()) &&\r\n          (this.selectedGender.length === 0 ||\r\n            this.selectedGender.includes(driver.gender)) &&\r\n          (this.selectedTariff.length === 0 ||\r\n            this.selectedTariff.includes(driver.tariff)) &&\r\n          (this.selectedStatus.length === 0 ||\r\n            this.selectedStatus.includes(driver.status))\r\n        );\r\n      });\r\n    },\r\n    fetchDrivers() {\r\n      axios\r\n        .get(\"https://jsonplaceholder.typicode.com/users\") // Replace with your API endpoint\r\n        .then((response) => {\r\n          const data = response.data;\r\n          this.drivers = Object.keys(data).map((key) => ({\r\n            id: key,\r\n            ...data[key],\r\n          }));\r\n          this.updateFilteredContent();\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error fetching drivers:\", error);\r\n        });\r\n    },\r\n    previousPage() {\r\n      if (this.currentPage > 1) {\r\n        this.currentPage--;\r\n      }\r\n    },\r\n    nextPage() {\r\n      if (this.currentPage < this.totalPages) {\r\n        this.currentPage++;\r\n      }\r\n    },\r\n    changePage(pageNumber) {\r\n      this.currentPage = pageNumber;\r\n    }\r\n  },\r\n  watch: {\r\n    searchQuery: \"filterContent\",\r\n    selectedGender: \"filterContent\",\r\n    selectedTariff: \"filterContent\",\r\n    selectedStatus: \"filterContent\",\r\n    currentPage: \"updateFilteredContent\"\r\n  },\r\n  computed: {\r\n    totalPages() {\r\n      return Math.ceil(this.filteredDrivers.length / this.pageSize);\r\n    },\r\n    paginatedDrivers() {\r\n      const startIndex = (this.currentPage - 1) * this.pageSize;\r\n      const endIndex = startIndex + this.pageSize;\r\n      return this.filteredDrivers.slice(startIndex, endIndex);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchDrivers();\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";AAwGA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,UAAU;AAC7B,OAAO,oBAAoB;AAE3B,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE,EAAE;MACfC,cAAc,EAAE,EAAE;MAClBC,cAAc,EAAE,EAAE;MAClBC,cAAc,EAAE,EAAE;MAClBC,kBAAkB,EAAE,KAAK;MACzBC,kBAAkB,EAAE,KAAK;MACzBC,kBAAkB,EAAE,KAAK;MACzBC,OAAO,EAAE,EAAE;MAAE;MACbC,eAAe,EAAE,EAAE;MACnBC,WAAW,EAAE,KAAK;MAAE;MACpBC,aAAa,EAAE,EAAE;MAAE;MACnBC,WAAW,EAAE,CAAC;MACdC,QAAQ,EAAE,EAAC,CAAE;IACf,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,qBAAqBA,CAACC,QAAQ,EAAE;MAC9B;MACAjB,MAAM,CAACkB,IAAI,CAAC;QAAEC,IAAI,EAAE,gBAAgB;QAAEC,MAAM,EAAE;UAAEC,EAAE,EAAEJ;QAAS;MAAE,CAAC,CAAC;IACnE,CAAC;IACDK,cAAcA,CAACC,QAAQ,EAAE;MACvB,IAAIA,QAAO,KAAM,QAAQ,EAAE;QACzB,IAAI,CAACjB,kBAAiB,GAAI,CAAC,IAAI,CAACA,kBAAkB;QAClD,IAAI,CAACC,kBAAiB,GAAI,KAAK;QAC/B,IAAI,CAACC,kBAAiB,GAAI,KAAK;MACjC,OAAO,IAAIe,QAAO,KAAM,QAAQ,EAAE;QAChC,IAAI,CAAChB,kBAAiB,GAAI,CAAC,IAAI,CAACA,kBAAkB;QAClD,IAAI,CAACD,kBAAiB,GAAI,KAAK;QAC/B,IAAI,CAACE,kBAAiB,GAAI,KAAK;MACjC,OAAO,IAAIe,QAAO,KAAM,QAAQ,EAAE;QAChC,IAAI,CAACf,kBAAiB,GAAI,CAAC,IAAI,CAACA,kBAAkB;QAClD,IAAI,CAACF,kBAAiB,GAAI,KAAK;QAC/B,IAAI,CAACC,kBAAiB,GAAI,KAAK;MACjC;IACF,CAAC;IACDiB,SAASA,CAACC,UAAU,EAAE;MACpB,IAAI,CAACd,WAAU,GAAI,IAAI;MACvB,IAAI,CAACC,aAAY,GAAIa,UAAU;MAC/B,IAAI,CAACC,iBAAiB,CAAC,CAAC;MACxB,IAAI,CAAC,GAAGD,UAAU,cAAc,IAAI,IAAI;IAC1C,CAAC;IACDE,UAAUA,CAAA,EAAG;MACX,IAAI,CAAChB,WAAU,GAAI,KAAK;MACxB,IAAI,CAACC,aAAY,GAAI,EAAE;MACvB,IAAI,CAACc,iBAAiB,CAAC,CAAC;IAC1B,CAAC;IACDA,iBAAiBA,CAAA,EAAG;MAClB,IAAI,CAACpB,kBAAiB,GAAI,KAAK;MAC/B,IAAI,CAACC,kBAAiB,GAAI,KAAK;MAC/B,IAAI,CAACC,kBAAiB,GAAI,KAAK;IACjC,CAAC;IACDoB,aAAaA,CAAA,EAAG;MACd,IAAI,CAACC,qBAAqB,CAAC,CAAC;IAC9B,CAAC;IACDA,qBAAqBA,CAAA,EAAG;MACtB,IAAI,CAACnB,eAAc,GAAI,IAAI,CAACD,OAAO,CAACqB,MAAM,CAAEC,MAAM,IAAK;QACrD,OACEA,MAAM,CAACZ,IAAI,CAACa,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAAC/B,WAAW,CAAC8B,WAAW,CAAC,CAAC,MAChE,IAAI,CAAC7B,cAAc,CAAC+B,MAAK,KAAM,KAC9B,IAAI,CAAC/B,cAAc,CAAC8B,QAAQ,CAACF,MAAM,CAACI,MAAM,CAAC,MAC5C,IAAI,CAAC/B,cAAc,CAAC8B,MAAK,KAAM,KAC9B,IAAI,CAAC9B,cAAc,CAAC6B,QAAQ,CAACF,MAAM,CAACK,MAAM,CAAC,MAC5C,IAAI,CAAC/B,cAAc,CAAC6B,MAAK,KAAM,KAC9B,IAAI,CAAC7B,cAAc,CAAC4B,QAAQ,CAACF,MAAM,CAACM,MAAM,CAAC;MAEjD,CAAC,CAAC;IACJ,CAAC;IACDC,YAAYA,CAAA,EAAG;MACbvC,KAAI,CACDwC,GAAG,CAAC,4CAA4C,EAAE;MAAA,CAClDC,IAAI,CAAEC,QAAQ,IAAK;QAClB,MAAMxC,IAAG,GAAIwC,QAAQ,CAACxC,IAAI;QAC1B,IAAI,CAACQ,OAAM,GAAIiC,MAAM,CAACC,IAAI,CAAC1C,IAAI,CAAC,CAAC2C,GAAG,CAAEC,GAAG,KAAM;UAC7CxB,EAAE,EAAEwB,GAAG;UACP,GAAG5C,IAAI,CAAC4C,GAAG;QACb,CAAC,CAAC,CAAC;QACH,IAAI,CAAChB,qBAAqB,CAAC,CAAC;MAC9B,CAAC,EACAiB,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MACjD,CAAC,CAAC;IACN,CAAC;IACDE,YAAYA,CAAA,EAAG;MACb,IAAI,IAAI,CAACpC,WAAU,GAAI,CAAC,EAAE;QACxB,IAAI,CAACA,WAAW,EAAE;MACpB;IACF,CAAC;IACDqC,QAAQA,CAAA,EAAG;MACT,IAAI,IAAI,CAACrC,WAAU,GAAI,IAAI,CAACsC,UAAU,EAAE;QACtC,IAAI,CAACtC,WAAW,EAAE;MACpB;IACF,CAAC;IACDuC,UAAUA,CAACC,UAAU,EAAE;MACrB,IAAI,CAACxC,WAAU,GAAIwC,UAAU;IAC/B;EACF,CAAC;EACDC,KAAK,EAAE;IACLpD,WAAW,EAAE,eAAe;IAC5BC,cAAc,EAAE,eAAe;IAC/BC,cAAc,EAAE,eAAe;IAC/BC,cAAc,EAAE,eAAe;IAC/BQ,WAAW,EAAE;EACf,CAAC;EACD0C,QAAQ,EAAE;IACRJ,UAAUA,CAAA,EAAG;MACX,OAAOK,IAAI,CAACC,IAAI,CAAC,IAAI,CAAC/C,eAAe,CAACwB,MAAK,GAAI,IAAI,CAACpB,QAAQ,CAAC;IAC/D,CAAC;IACD4C,gBAAgBA,CAAA,EAAG;MACjB,MAAMC,UAAS,GAAI,CAAC,IAAI,CAAC9C,WAAU,GAAI,CAAC,IAAI,IAAI,CAACC,QAAQ;MACzD,MAAM8C,QAAO,GAAID,UAAS,GAAI,IAAI,CAAC7C,QAAQ;MAC3C,OAAO,IAAI,CAACJ,eAAe,CAACmD,KAAK,CAACF,UAAU,EAAEC,QAAQ,CAAC;IACzD;EACF,CAAC;EACDE,OAAOA,CAAA,EAAG;IACR,IAAI,CAACxB,YAAY,CAAC,CAAC;EACrB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}